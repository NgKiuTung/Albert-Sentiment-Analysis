# ALBERTæƒ…æ„Ÿè¯†åˆ«Webåº”ç”¨

## é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªåŸºäºALBERTæ¨¡å‹çš„ä¸­æ–‡æ–‡æœ¬æƒ…æ„Ÿè¯†åˆ«Webåº”ç”¨ï¼Œæ”¯æŒ7ç§æƒ…æ„Ÿåˆ†ç±»ï¼šå–œæ¬¢ã€æ‚²ä¼¤ã€ææƒ§ã€æ„¤æ€’ã€åŒæ¶ã€å¿«ä¹ã€æƒŠè®¶ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¨ **ç»šä¸½çš„ç”¨æˆ·ç•Œé¢** - æ¸å˜èƒŒæ™¯ã€ç²’å­åŠ¨ç”»ã€å¹³æ»‘è¿‡æ¸¡æ•ˆæœ
- ğŸ“Š **å¯è§†åŒ–å±•ç¤º** - ä½¿ç”¨Chart.jså±•ç¤ºæƒ…æ„Ÿæ¦‚ç‡åˆ†å¸ƒ
- âš¡ **å®æ—¶é¢„æµ‹** - å¿«é€Ÿå“åº”ï¼Œæ˜¾ç¤ºæ¨ç†æ—¶é—´
- ğŸ“ˆ **è¯¦ç»†åˆ†æ** - å±•ç¤ºæ‰€æœ‰æƒ…æ„Ÿçš„æ¦‚ç‡åˆ†å¸ƒå’Œç½®ä¿¡åº¦
- ğŸ“± **å“åº”å¼è®¾è®¡** - æ”¯æŒæ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡

## å®‰è£…ä¾èµ–

```bash
pip install -r requirements_web.txt
```

æˆ–æ‰‹åŠ¨å®‰è£…ï¼š

```bash
pip install flask flask-cors torch transformers numpy
```

## è¿è¡Œåº”ç”¨

```bash
python app.py
```

åº”ç”¨å°†åœ¨ `http://localhost:5000` å¯åŠ¨ã€‚

## ä½¿ç”¨è¯´æ˜

1. åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ `http://localhost:5000`
2. åœ¨æ–‡æœ¬æ¡†ä¸­è¾“å…¥è¦åˆ†æçš„ä¸­æ–‡æ–‡æœ¬
3. ç‚¹å‡»"å¼€å§‹åˆ†æ"æŒ‰é’®
4. æŸ¥çœ‹é¢„æµ‹ç»“æœå’Œè¯¦ç»†åˆ†æ

### å¿«æ·é”®

- `Ctrl + Enter` - å¿«é€Ÿæäº¤åˆ†æ

## APIæ¥å£

### é¢„æµ‹æ¥å£

**URL:** `/api/predict`

**æ–¹æ³•:** `POST`

**è¯·æ±‚ä½“:**
```json
{
    "text": "ä»Šå¤©å¤©æ°”çœŸå¥½ï¼Œå¿ƒæƒ…ç‰¹åˆ«å¼€å¿ƒï¼"
}
```

**å“åº”:**
```json
{
    "success": true,
    "result": {
        "text": "ä»Šå¤©å¤©æ°”çœŸå¥½ï¼Œå¿ƒæƒ…ç‰¹åˆ«å¼€å¿ƒï¼",
        "predicted_emotion": {
            "label_en": "happiness",
            "label_zh": "å¿«ä¹",
            "emoji": "ğŸ˜„",
            "color": "#F7DC6F"
        },
        "confidence": 95.2,
        "emotions": [
            {
                "label_en": "happiness",
                "label_zh": "å¿«ä¹",
                "probability": 95.2,
                "color": "#F7DC6F",
                "emoji": "ğŸ˜„",
                "is_predicted": true
            }
        ],
        "statistics": {
            "inference_time": 45.32,
            "text_length": 15,
            "token_count": 12,
            "valid_token_count": 12,
            "device": "cuda",
            "model": "ALBERT-Chinese-Small"
        }
    }
}
```

### å¥åº·æ£€æŸ¥æ¥å£

**URL:** `/api/health`

**æ–¹æ³•:** `GET`

**å“åº”:**
```json
{
    "status": "healthy",
    "model": "ALBERT",
    "device": "cuda",
    "num_classes": 7
}
```

## æƒ…æ„Ÿç±»åˆ«

| ç´¢å¼• | è‹±æ–‡æ ‡ç­¾ | ä¸­æ–‡æ ‡ç­¾ | Emoji |
|------|----------|----------|-------|
| 0 | like | å–œæ¬¢ | ğŸ‘ |
| 1 | sadness | æ‚²ä¼¤ | ğŸ˜¢ |
| 2 | fear | ææƒ§ | ğŸ˜¨ |
| 3 | anger | æ„¤æ€’ | ğŸ˜  |
| 4 | disgust | åŒæ¶ | ğŸ¤¢ |
| 5 | happiness | å¿«ä¹ | ğŸ˜„ |
| 6 | surprise | æƒŠè®¶ | ğŸ˜² |

## æŠ€æœ¯æ ˆ

- **åç«¯:** Flask 3.1.2
- **æ·±åº¦å­¦ä¹ :** PyTorch + Transformers
- **å‰ç«¯:** HTML5 + CSS3 + JavaScript
- **å›¾è¡¨åº“:** Chart.js 4.4.0
- **å›¾æ ‡åº“:** Font Awesome 6.4.0

## é¡¹ç›®ç»“æ„

```
albertæƒ…æ„Ÿè¯†åˆ«/
â”œâ”€â”€ app.py                      # Flaskåº”ç”¨ä¸»æ–‡ä»¶
â”œâ”€â”€ templates/
â”‚   â””â”€â”€ index.html             # å‰ç«¯é¡µé¢
â”œâ”€â”€ models/
â”‚   â””â”€â”€ albert_best.pth        # è®­ç»ƒå¥½çš„æ¨¡å‹
â”œâ”€â”€ albert-chinese-small/      # é¢„è®­ç»ƒæ¨¡å‹
â”œâ”€â”€ nets.py                    # æ¨¡å‹å®šä¹‰
â””â”€â”€ requirements_web.txt       # Webåº”ç”¨ä¾èµ–
```

## æ€§èƒ½æŒ‡æ ‡

- **æ¨ç†æ—¶é—´:** ~50ms (GPU) / ~200ms (CPU)
- **æ¨¡å‹å¤§å°:** 19.2MB
- **æ”¯æŒæ–‡æœ¬é•¿åº¦:** æœ€å¤§200ä¸ªtokens
- **å‡†ç¡®ç‡:** æ ¹æ®è®­ç»ƒæ•°æ®é›†è¯„ä¼°

## æ³¨æ„äº‹é¡¹

1. é¦–æ¬¡è¿è¡Œä¼šåŠ è½½æ¨¡å‹ï¼Œéœ€è¦å‡ ç§’é’Ÿæ—¶é—´
2. å»ºè®®ä½¿ç”¨GPUåŠ é€Ÿæ¨ç†ï¼ˆå¦‚æœå¯ç”¨ï¼‰
3. è¾“å…¥æ–‡æœ¬è¿‡é•¿ä¼šè¢«æˆªæ–­åˆ°200ä¸ªtokens
4. æ”¯æŒä¸­æ–‡emojiè¡¨æƒ…ç¬¦å·

## å¼€å‘ä¸è°ƒè¯•

å¯ç”¨Flaskè°ƒè¯•æ¨¡å¼ï¼ˆé»˜è®¤å·²å¯ç”¨ï¼‰ï¼š

```python
app.run(host='0.0.0.0', port=5000, debug=True)
```

## è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚
